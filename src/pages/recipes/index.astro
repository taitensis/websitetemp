---
import BaseLayout from '@/layouts/BaseLayout.astro';
import RecipesIndex from '@/components/recipes/RecipesIndex';
import { makeT, DEFAULT_LOCALE, type Locale } from '@/i18n/ui';
import { getSortedRecipes, mapAllToSummaries } from '@/lib/recipes';
const L = (Astro.currentLocale ?? DEFAULT_LOCALE) as Locale;
const tt = makeT(L);

const recipes = await getSortedRecipes();
const items = mapAllToSummaries(recipes);
---

<BaseLayout title="Recipes" description="Browse all recipes.">
  <section class="mx-auto max-w-6xl px-5">
    <h1 class="mb-10 scroll-m-20 text-balance text-4xl font-extrabold tracking-tight">
      {tt('all_recipes')}
    </h1>
    <RecipesIndex client:load items={items} />
  </section>
</BaseLayout>
